import{j as s,r as c,e as h,c as j,f as p}from"./index-BkwTl7d_.js";const u="/dinemaster-ui/assets/food-logo-B6m_gzXG.png",N=({loader:l,restaurantData:d,setSelectedRestaurant:a,setModalOpen:t})=>{const r=e=>{a(e),t(!0)};return s.jsx("div",{className:"scrollable",children:l==!0?s.jsx("div",{className:"spinner-border text-success",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}):s.jsx("div",{children:d.map(e=>s.jsx("div",{className:"card mb-3",style:{maxWidth:"80vh",cursor:"pointer",alignItems:"center",left:"50px",background:"linear-gradient(to left, rgb(228, 252, 255), rgb(255, 250, 206))"},onClick:()=>r(e),children:s.jsxs("div",{className:"row g-0",style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("div",{className:"col-md-3",children:s.jsx("img",{src:u,className:"img-fluid rounded-start",alt:e.name})}),s.jsxs("div",{className:"col-md-8",children:[s.jsxs("div",{className:"card-body",children:[s.jsx("h5",{className:"card-title",children:e.name}),s.jsxs("p",{className:"card-text",children:[e.address.street,", ",e.address.city,","," ",e.address.state,", ",e.address.zipCode]}),s.jsx("p",{className:"card-text",children:s.jsxs("small",{className:"text-muted",children:["Cuisine: ",e.cuisine]})}),s.jsx("p",{className:"card-text",children:s.jsxs("small",{className:"text-muted",children:["Phone: ",e.phone]})}),s.jsx("p",{className:"card-text",children:s.jsxs("small",{className:"text-muted",children:["Rating: ",e.rating," / 5"]})})]}),s.jsx("div",{className:"text-end",style:{padding:"3px"},children:s.jsx("button",{className:"btn btn-success px-4 py-2 rounded-pill shadow-sm",onClick:()=>handleBookTable(e.id),children:"ðŸ½ï¸ Book Table"})})]})]})},e.id))})})},g=({cart:l})=>{const d=()=>{const a=document.getElementById("cart");a&&(a.style.display="none")};return s.jsx("div",{id:"cart",className:"modal",style:{display:"flex"},children:s.jsxs("div",{className:"modal-content",children:[s.jsx("span",{className:"close",onClick:()=>d(),children:"Ã—"}),s.jsx("h4",{children:"CART:"}),s.jsx("ul",{children:l.length>0?l.map((a,t)=>s.jsxs("li",{children:[s.jsx("strong",{children:a.name}),": â‚¹",a.price]},t)):s.jsx("li",{children:"Your cart is empty."})}),s.jsx("button",{style:{marginLeft:"10px"},className:"btn btn-primary",children:"Place Order"})]})})},f=({selectedRestaurant:l,setSelectedRestaurant:d,setModalOpen:a})=>{const[t,r]=c.useState([]),[e,o]=c.useState(!1);console.log(l);const i=()=>{a(!1)};return c.useEffect(()=>{console.log(t)},[t]),l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal",style:{display:"flex"},children:s.jsxs("div",{className:"modal-content",children:[s.jsx("span",{className:"close",onClick:i,children:"Ã—"}),s.jsx("h2",{children:l.name}),s.jsx("h4",{children:"Dishes:"}),s.jsx("ul",{children:l.dishes.map((n,m)=>s.jsxs("li",{children:[s.jsx("strong",{children:n.dishName}),": ",n.description," - â‚¹",n.price,s.jsx("button",{style:{marginLeft:"10px"},onClick:()=>r(x=>[...x,n]),className:"btn btn-primary",children:"Add to Cart"})]},m))}),s.jsxs("button",{style:{marginLeft:"10px"},className:"btn btn-primary",children:["View Cart (",t.length,")"]})]})}),e&&s.jsx(g,{cart:t})]}):null},b=()=>{const[l,d]=c.useState(null),[a,t]=c.useState(!1),[r,e]=c.useState([]),[o,i]=c.useState(!1);return c.useEffect(()=>{document.title=h,j.get(p).then(n=>{i(!0),e(n.data.data),i(!1)}).catch(n=>{alert("Error while loading Restaurants!!"),console.error("Error while loading Restaurants!!",n)})},[]),s.jsxs("div",{className:"container-flex",children:[s.jsx("div",{className:`restaurant-list ${a?"slide-left":""}`,children:s.jsx(N,{loader:o,restaurantData:r,setSelectedRestaurant:d,setModalOpen:t})}),a&&s.jsx("div",{className:"restaurant-modal",children:s.jsx(f,{setModalOpen:t,selectedRestaurant:l,setSelectedRestaurant:d})})]})};export{b as default};
